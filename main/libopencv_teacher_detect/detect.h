#pragma once

#ifndef _detect_h_
#define _detect_h_
#include<opencv2/opencv.hpp>

#ifdef __cplusplus
extern "C" {
#endif

typedef struct det_t det_t;
typedef struct zifImage zifImage;
/** 返回实例 
@param cfg_name: 配置文件名字
	@return det_t实例，0 失败
 */
det_t *det_open(const char *cfg_name);

void det_close(det_t *ctx);


/** 
	@param img: 图像
	@return  ,json格式--   {"stamp":12345,"rect":[{"x":0,"y":0,"width":100,"height":100},{"x":0,"y":0,"width":100,"height":100}]}   





	{
		"stamp":12345,
		"rect":
		[
			{"x":0,"y":0,"width":100,"height":100},
			{"x":0,"y":0,"width":100,"height":100}
		]
	}
 */
//char *det_detect(det_t *ctx, zifImage *img);
char *det_detect(det_t *ctx, cv::Mat img);


#ifdef __cplusplus
};
#endif





#endif
